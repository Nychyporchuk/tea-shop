import{a as B}from"./chunk-SHKK26TU.js";import{C as p,D as C,E as T,G as S,I as l,K as d,N as o,O as r,P as h,Q as D,R as F,S as m,T as L,U as c,V as s,W as f,Y as R,Z as j,_ as N,ea as A,fa as _,ga as u,ja as I,l as M,la as k,na as H,oa as z,p as O,q as E,qa as y,y as v,z as n}from"./chunk-TX3XGUZN.js";var b=class e{transform(i,t=150,a="..."){return i?i.length>t?i.slice(0,t)+a:i:""}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=S({name:"truncate",type:e,pure:!0})};var J=e=>["/products",e];function K(e,i){e&1&&(o(0,"div",6),c(1," \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430... "),r())}function Q(e,i){if(e&1&&(o(0,"div",7),c(1),r()),e&2){let t=m();n(),f(" ",t.error," ")}}function W(e,i){if(e&1&&(o(0,"div",8)(1,"div",9)(2,"div",10),h(3,"img",11),r(),o(4,"div",12)(5,"h5",13),c(6),r(),o(7,"p",14),c(8),j(9,"truncate"),r(),o(10,"a",15),c(11,"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435"),r()()()()),e&2){let t=i.$implicit;n(3),d("src",t.image,v),n(3),s(t.title),n(2),s(N(9,4,t.description,150)),n(2),d("routerLink",R(7,J,t.id))}}var g=class e{constructor(i){this.http=i}teas=[];isLoading=!0;error="";ngOnInit(){this.http.get("https://testologia.ru/tea").subscribe({next:i=>{this.teas=i,this.isLoading=!1},error:i=>{this.error="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0447\u0430\u044F",this.isLoading=!1}})}static \u0275fac=function(t){return new(t||e)(p(I))};static \u0275cmp=C({type:e,selectors:[["app-catalog"]],decls:7,vars:3,consts:[[1,"container","my-4","wow","animate__backInDown"],[1,"titles","text-center","mb-5"],["class","text-center",4,"ngIf"],["class","text-center text-danger",4,"ngIf"],[1,"row"],["class","col-lg-4 col-md-6 mb-4 d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"text-center","text-danger"],[1,"col-lg-4","col-md-6","mb-4","d-flex","justify-content-center"],[1,"card","custom-card"],["data-wow-duration","0.5s","data-wow-delay","0.2s",1,"wow","image-container"],["alt","tea box",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary","hvr-grow",3,"routerLink"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"h2",1),c(2,"\u041D\u0430\u0448\u0438 \u0447\u0430\u0439\u043D\u044B\u0435 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438"),r(),l(3,K,2,0,"div",2)(4,Q,2,1,"div",3),o(5,"div",4),l(6,W,12,9,"div",5),r()()),t&2&&(n(3),d("ngIf",a.isLoading),n(),d("ngIf",a.error),n(2),d("ngForOf",a.teas))},dependencies:[u,A,_,b,y,z],styles:[".card[_ngcontent-%COMP%]{padding:0}.custom-card[_ngcontent-%COMP%]{width:413px}.card-title[_ngcontent-%COMP%]{font-size:20px;font-style:normal;font-weight:700}.card-text[_ngcontent-%COMP%]{font-size:16px;line-height:24px}"]})};function X(e,i){e&1&&(o(0,"div",4),c(1," \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430... "),r())}function Y(e,i){if(e&1&&(o(0,"div",5),c(1),r()),e&2){let t=m();n(),f(" ",t.error," ")}}function Z(e,i){if(e&1){let t=D();o(0,"div",6),h(1,"img",7),o(2,"div",8)(3,"h3",9),c(4),r(),o(5,"p",10),c(6),r(),o(7,"p",11)(8,"strong"),c(9),r()(),o(10,"button",12),F("click",function(){O(t);let P=m();return E(P.buy())}),c(11,"\u041A\u0443\u043F\u0438\u0442\u044C"),r()()()}if(e&2){let t=m();n(),L("alt",t.tea.title),d("src",t.tea.image,v),n(3),s(t.tea.title),n(2),s(t.tea.description),n(3),f("\u0426\u0435\u043D\u0430: ",t.tea.price," \u0440\u0443\u0431.")}}var x=class e{constructor(i,t,a){this.route=i;this.http=t;this.router=a}tea;isLoading=!0;error="";ngOnInit(){let i=this.route.snapshot.paramMap.get("id");this.http.get("https://testologia.ru/tea").subscribe({next:t=>{let a=t.find(P=>P.id===Number(i));a?this.tea=a:this.error="\u0422\u043E\u0432\u0430\u0440 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D",this.isLoading=!1},error:()=>{this.error="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0442\u043E\u0432\u0430\u0440\u0430",this.isLoading=!1}})}buy(){this.router.navigate(["/order"],{queryParams:{product:this.tea?.title}})}static \u0275fac=function(t){return new(t||e)(p(k),p(I),p(H))};static \u0275cmp=C({type:e,selectors:[["app-product"]],decls:4,vars:3,consts:[[1,"product-page","d-flex","justify-content-center","align-items-center"],["class","text-center",4,"ngIf"],["class","text-center text-danger",4,"ngIf"],["class","card product-card",4,"ngIf"],[1,"text-center"],[1,"text-center","text-danger"],[1,"card","product-card"],[1,"card-img-top","product-img",3,"src","alt"],[1,"card-body","d-flex","flex-column"],[1,"card-title"],[1,"card-text","flex-grow-1","overflow-auto"],[1,"card-text"],[1,"btn","btn-success","mt-auto","w-100",3,"click"]],template:function(t,a){t&1&&(o(0,"div",0),l(1,X,2,0,"div",1)(2,Y,2,1,"div",2)(3,Z,12,5,"div",3),r()),t&2&&(n(),d("ngIf",a.isLoading),n(),d("ngIf",a.error),n(),d("ngIf",a.tea))},dependencies:[u,_],styles:[".product-page[_ngcontent-%COMP%]{min-height:calc(100vh - 140px)}.product-page[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{max-width:900px;width:100%;max-height:100%;display:flex;flex-direction:column}.product-page[_ngcontent-%COMP%]   .product-img[_ngcontent-%COMP%]{max-height:300px;object-fit:none}.product-page[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:column}.product-page[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{overflow:auto}"]})};var tt=[{path:"catalog",component:g},{path:":id",component:x}],V=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=T({type:e});static \u0275inj=M({imports:[u,y.forChild(tt),B,g,x]})};export{V as ProductsModule};
